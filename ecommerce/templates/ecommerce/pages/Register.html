{% extends 'ecommerce/Main.html' %}

{% load static %}
{% load crispy_forms_tags %}

{% block content %}

<style>
    body{
        background-color: #eeeeee;
    }
    #messages{
    background-color: rgb(209, 56, 56);
    color: #fff;
    padding: 10px;
    margin-top: 10px;
    text-align: center;
}
</style>



<div class="container d-flex flex-column justify-content-center align-items-center">

<div class="col-sm-12 col-md-5 col-lg-5">

<div class="card mt-4" >

    <h3 class="card-title text-center mt-4">Register</h3>

<div class="card-body">
    <form method="POST">
        {% csrf_token %}
        <div class="mb-3 mt-3">
            {{form.username.label }}
            {{form.username }}
        </div>
        <div class="mb-3">
            {{form.email.label}}
            {{form.email}}
        </div>
        <div class="mb-3">
            {{form.password1.label}}
            {{form.password1}}
            <small class="text-secondary">At least 1 uppercase, 1 lowercase, 1 number</small>
        </div>
        <div class="mb-3">
            {{form.password1.label}}
            {{form.password2}}
        </div>
        <div class="mb-3">
        <button class="btn btn-primary w-100 mt-3" type="submit" name="CreateUser">Register</button>
        <p class="mt-2">Already have an account? <a class="link-primary" href="{% url 'login' %}">Login</a></p>
        </div>
        {% for message in messages %}
            <p id="messages">{{message}}</p>
        {% endfor %}
    </form>
</div>
</div>
</div>

</div>

<!--Bootstrap 5  CDN -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script>
/* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
//We start indexing at one because CSRF_token is considered and input field 
*/

//Query All input fields
var form_fields = document.getElementsByTagName('input')
form_fields[1].placeholder='Username..';
form_fields[2].placeholder='Email..';
form_fields[3].placeholder='Enter password...';
form_fields[4].placeholder='Re-enter Password...';


for (var field in form_fields){	
form_fields[field].className += ' form-control'
form_fields[field].required = true
}
</script>




{% endblock %}